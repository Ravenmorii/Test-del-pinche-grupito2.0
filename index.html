<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>¿Quién eres del grupito?</title>
    <link rel="stylesheet" href="Diseño.css">
</head>
<body>

<div class="contenedor">
    <h1>¿Qué personaje eres del grupito?</h1>
    <p class="subtitulo">Alch pinche test estúpido. No sé por qué hago esto.</p>

    <form id="quiz">

<!-- PREGUNTA 1 -->
<div class="pregunta">
<p>1. Cuando alguien se acerca demasiado emocionalmente a ti…</p>
<label><input type="radio" name="p1" value="T"> Te irrita y buscas pelea</label>
<label><input type="radio" name="p1" value="Y"> Colocas una pared invisible y observas</label>
<label><input type="radio" name="p1" value="A"> Haces bromas para que no se apeguen más</label>
<label><input type="radio" name="p1" value="K"> Te abres aunque te exponga</label>
<label><input type="radio" name="p1" value="TY"> Atacas antes de que puedan herirte</label>
<label><input type="radio" name="p1" value="AK"> Te muestras amable, pero huyes después</label>
<label><input type="radio" name="p1" value="YK"> Cuidas desde lejos, sin involucrarte</label>
</div>

<!-- PREGUNTA 2 -->
<div class="pregunta">
<p>2. Cuando sientes culpa, tu reacción es…</p>
<label><input type="radio" name="p2" value="T"> Enojarte contigo mismo</label>
<label><input type="radio" name="p2" value="Y"> Analizar en qué fallaste</label>
<label><input type="radio" name="p2" value="A"> Fingir que no importa</label>
<label><input type="radio" name="p2" value="K"> Cargarla como castigo en silencio</label>
<label><input type="radio" name="p2" value="TA"> Autodestruirte un poco</label>
<label><input type="radio" name="p2" value="YK"> Exigir más de ti hasta agotarte</label>
<label><input type="radio" name="p2" value="TK"> Creer que mereces sufrir</label>
</div>

<!-- PREGUNTA 3 -->
<div class="pregunta">
<p>3. Cuando todo va mal, tu pensamiento oculto es…</p>
<label><input type="radio" name="p3" value="T"> “Yo siempre arruino todo”</label>
<label><input type="radio" name="p3" value="Y"> “No debí confiarme”</label>
<label><input type="radio" name="p3" value="A"> “Nada es tan serio”</label>
<label><input type="radio" name="p3" value="K"> “Debí hacer más”</label>
<label><input type="radio" name="p3" value="TY"> “Si ataco primero, no me lastimará”</label>
<label><input type="radio" name="p3" value="AK"> “Si me río, no me duele”</label>
<label><input type="radio" name="p3" value="YK"> “Si controlo todo, nada puede empeorar”</label>
</div>

<!-- PREGUNTA 4 -->
<div class="pregunta">
<p>4. En un conflicto, tu defensa principal es…</p>
<label><input type="radio" name="p4" value="T"> Intimidar</label>
<label><input type="radio" name="p4" value="Y"> Atacar con palabras</label>
<label><input type="radio" name="p4" value="A"> Burlarte</label>
<label><input type="radio" name="p4" value="K"> Hacer de mediador aunque te duela</label>
<label><input type="radio" name="p4" value="TY"> Frialdad agresiva</label>
<label><input type="radio" name="p4" value="AK"> Humor suicida</label>
<label><input type="radio" name="p4" value="YK"> Control absoluto</label>
</div>

<!-- PREGUNTA 5 -->
<div class="pregunta">
<p>5. Cuando alguien depende de ti emocionalmente…</p>
<label><input type="radio" name="p5" value="T"> Te abruma</label>
<label><input type="radio" name="p5" value="Y"> Te responsabilizas aunque no quieras</label>
<label><input type="radio" name="p5" value="A"> Te quedas, pero huyes cuando te pesa</label>
<label><input type="radio" name="p5" value="K"> Te vuelves su sostén</label>
<label><input type="radio" name="p5" value="TY"> Sientes rabia por no poder huir</label>
<label><input type="radio" name="p5" value="AK"> Te sacrificas sin medir consecuencias</label>
<label><input type="radio" name="p5" value="YK"> Tomas el rol de figura materna/paterna</label>
</div>

<!-- PREGUNTA 6 -->
<div class="pregunta">
<p>6. Tu relación con el enojo es…</p>
<label><input type="radio" name="p6" value="T"> Me define</label>
<label><input type="radio" name="p6" value="Y"> Lo reprimo</label>
<label><input type="radio" name="p6" value="A"> Me río de él</label>
<label><input type="radio" name="p6" value="K"> Lo escondo por otros</label>
<label><input type="radio" name="p6" value="TY"> Lo uso como escudo</label>
<label><input type="radio" name="p6" value="AK"> Lo convierto en adrenalina</label>
<label><input type="radio" name="p6" value="TK"> Me castigo por sentirlo</label>
</div>

<!-- PREGUNTA 7 -->
<div class="pregunta">
<p>7. Cuando alguien te ve vulnerable…</p>
<label><input type="radio" name="p7" value="T"> Te avergüenza</label>
<label><input type="radio" name="p7" value="Y"> Te incomoda profundamente</label>
<label><input type="radio" name="p7" value="A"> Cambias el tema</label>
<label><input type="radio" name="p7" value="K"> Te dejas ver</label>
<label><input type="radio" name="p7" value="TY"> Reaccionas con agresión</label>
<label><input type="radio" name="p7" value="AK"> Lo minimizas con risas</label>
<label><input type="radio" name="p7" value="YK"> Tomas distancia emocional</label>
</div>

<!-- PREGUNTA 8 -->
<div class="pregunta">
<p>8. Tu mayor hábito emocional oculto es…</p>
<label><input type="radio" name="p8" value="T"> Autodesprecio</label>
<label><input type="radio" name="p8" value="Y"> Hipervigilancia</label>
<label><input type="radio" name="p8" value="A"> Evitación</label>
<label><input type="radio" name="p8" value="K"> Sobrecarga empática</label>
<label><input type="radio" name="p8" value="TY"> Paranoia defensiva</label>
<label><input type="radio" name="p8" value="AK"> Riesgo constante</label>
<label><input type="radio" name="p8" value="YK"> Control obsesivo</label>
</div>

<!-- PREGUNTA 9 -->
<div class="pregunta">
<p>9. Si te rompes, lo haces…</p>
<label><input type="radio" name="p9" value="T"> En silencio</label>
<label><input type="radio" name="p9" value="Y"> Solo</label>
<label><input type="radio" name="p9" value="A"> Huyendo</label>
<label><input type="radio" name="p9" value="K"> Acompañando a otros</label>
<label><input type="radio" name="p9" value="TY"> Explosivamente</label>
<label><input type="radio" name="p9" value="AK"> Arriesgándote de más</label>
<label><input type="radio" name="p9" value="YK"> Cargando a todos menos a ti</label>
</div>

<!-- PREGUNTA 10 -->
<div class="pregunta">
<p>10. En el fondo, temes que…</p>
<label><input type="radio" name="p10" value="T"> Seas un error</label>
<label><input type="radio" name="p10" value="Y"> Falles cuando más te necesiten</label>
<label><input type="radio" name="p10" value="A"> Nadie se quede</label>
<label><input type="radio" name="p10" value="K"> Tu bondad no baste</label>
<label><input type="radio" name="p10" value="TY"> Tu rabia destruya todo</label>
<label><input type="radio" name="p10" value="AK"> Morir sin haberle importado a nadie</label>
<label><input type="radio" name="p10" value="YK"> Colapsar y decepcionar</label>
</div>

<button type="button" onclick="resultadoFinal()">Resultado</button>
</form>

<div id="resultado" class="resultado oculto"></div>
</div>

<script>
function resultadoFinal() {

let puntos = {T:0,Y:0,A:0,K:0};
let secretos = [];

const respuestas = document.querySelectorAll('input[type="radio"]:checked');
if (respuestas.length < 10) {
 alert("Te saltaste una o más preguntas");
 return;
}

respuestas.forEach(r=>{
 if(r.value.includes("T")) puntos.T++;
 if(r.value.includes("Y")) puntos.Y++;
 if(r.value.includes("A")) puntos.A++;
 if(r.value.includes("K")) puntos.K++;

 if(r.value === "TK" || r.value === "TA") secretos.push("Te castigas por sentir aunque sabes que no deberías.");
 if(r.value === "AK") secretos.push("Usas el riesgo para no sentirte vacío porque nada te llena.");
 if(r.value === "YK") secretos.push("Te hiciste adulto demasiado pronto.");
});

let orden = Object.entries(puntos).sort((a,b)=>b[1]-a[1]);
let p1 = orden[0][0];
let p2 = orden[1][0];

let resultado = "";

function texto(personaje){
switch(personaje){
case "T": return `<h2>Sanemi</h2>
<p>No eres violento, solo no sabes qué hacer con lo que sientes, al menos no de forma saludable. Tu enojo es un mecanismo de defensa ante la culpa y el miedo de dañar a otros. Atacas porque no sabes pedir, gritas porque no aprendiste a ser escuchado. Te odias por existir con tanta intensidad. Tu hábito es castigarte antes de que otros lo hagan. "No soy un perro violento, solo no sé por qué muerdo."</p>`;
case "Y": return `<h2>Iguro</h2>
<p>Sobreviviste aprendiendo a pensar, no a sentir. Controlas todo lo que puedes porque el caos te aterra. Te convertiste en un pilar porque nadie te sostuvo ni estuvo para ti. Tu defensa es la frialdad, la indiferencia, pero debajo hay agotamiento crónico y miedo a fallar. Te prohibiste necesitar ayuda de los demás porque "puedes solo".</p>`;
case "A": return `<h2>Hakuji</h2>
<p>Te escondes en el ruido y en lo divertido porque el silencio te confronta, aun si a veces no es sano. Usas el humor, la adrenalina y el riesgo como distracción emocional. Tu defensa es huir antes de apegarte. Temes que, si te detienes, todo te alcance. La necesidad de sentirte vivo con cosas riesgosas es solo una forma de decir que quieres encontrarle un propósito a la vida.</p>`;
case "K": return `<h2>Tanjiro</h2>
<p>Aprendiste que amar era sobrevivir. Te sobrecargas emocionalmente para no ser abandonado. Tu defensa es dar más de lo que recibes, aun si lo que recibes apenas y son migajas de lo que das. Te consumes sosteniendo a otros porque temes que, si no demuestras las cosas, nadie te elegiría. Ni si quiera te molesta, porque prefieres que te traten con indiferencia, que sentir que no encajas en ningún lugar.</p>`;
}
}

if(orden[0][1] - orden[1][1] <= 1){
resultado = `<h2>Eres una mezcla de...</h2>` + texto(p1) + texto(p2) +
`<p>Tal y como ellos, enfrentas dos partes. Tus defensas se contradicen. Una parte quiere huir, la otra aguantar. Este conflicto te agota, te cansa, pero también explica por qué nunca te sientes completo.</p>`;
}else{
resultado = texto(p1);
}

if(secretos.length){
resultado += `<div class="secreto"><p><strong>¿Te digo algo más curioso? - </strong> ${[...new Set(secretos)].join(" ")}</p></div>`;
}

document.getElementById("resultado").innerHTML = resultado;
document.getElementById("resultado").classList.remove("oculto");
}
</script>

</body>
</html>